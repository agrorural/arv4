!function(e){function t(t){e.ajax({url:ajax_is.ajax_url,data:t,beforeSend:function(){e("#optMonth").prop("disabled",!0),e("#optYear").prop("disabled",!0),e("#optPerPage").prop("disabled",!0),e("#btnDocumento").button("loading"),e("#btnLimpiar").button("loading"),n.find(".preloaded").removeClass("hidden"),n.find(".hentry").addClass("hidden")},complete:function(){e("#optMonth").prop("disabled",!1),e("#optYear").prop("disabled",!1),e("#optPerPage").prop("disabled",!1),e("#btnDocumento").button("reset"),e("#btnLimpiar").button("reset"),n.find(".preloaded").addClass("hidden"),n.find(".hentry").removeClass("hidden")},success:function(e){if(t=e,n.find(".search-result").empty(),n.find(".wp-pagenavi").empty(),t.bError){var a="";a='<article class="hentry documentos hidden">',a+='<div class="entry-container">',a+='<div class="entry-body">',a+='<div class="entry-content-all">',a+='<h2 class="entry-title">',a+=t.vMensaje,a+="</h2>",a+='<div class="entry-content">',a+="<p>Intente con otros parámetros de búsqueda...</p>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</article>",n.find(".wp-pagenavi").addClass("hidden"),n.find(".search-result").append(a)}else{for(var d=0;d<t.response.length;d++){var p="";p+='<article class="post-'+t.response[d].id+' status-publish hentry tipos-rde documentos hidden">',p+='<div class="entry-container">',p+='<div class="entry-body ">',s="Directivas"===t.postTerm||"PAC"===t.postTerm?t.response[d].doc_ane__nom:s=t.response[d].title,r="Directivas"===t.postTerm||"PAC"===t.postTerm?t.response[d].doc_ane__desc:r=t.response[d].content,p+='<div class="entry-content-all">',p+='<h2 class="entry-title">',p+='<a href="'+t.response[d].permalink+'">'+s+"</a>",p+="</h2>",p+='<div class="entry-content">'+r+"</div>",p+="</div>",p+='<div class="post-meta">',p+='<div class="post-date">',p+='<time class="updated">'+t.response[d].date+"</time>",p+="</div>",p+='<div class="post-comments">',o="Directivas"===t.postTerm?"RDE":"PAC"===t.postTerm?"RDA":t.postTerm,p+="Publicado"===t.response[d].doc_link?'<a href="'+ajax_is.upload_dir.baseurl+i+o.toLowerCase()+"/"+t.response[d].slug.toUpperCase()+'.PDF" target="_blank"><i class="fa fa-file-pdf-o"></i> Descargar</a>':"No disponible",p+="</div>",p+="</div>",p+="</div>",p+="</div>",p+="</article>",n.find(".search-result").append(p),n.find(".wp-pagenavi").hasClass("hidden")&&n.find(".wp-pagenavi").removeClass("hidden")}for(var l=1;l<=t.max_num_pages;l++){var c='<a href="page/'+l+'" class="page navi" data-id="'+l+'">'+l+"</a>";t.paged===l&&(c='<span class="current">'+l+"</span>"),n.find(".wp-pagenavi").append(c)}}console.log(e)},error:function(e){console.log("Error inesperado")}})}function a(e){n.find("form").trigger("reset"),e.txtKeyword="",e.optMonth=0,e.optYear=(new Date).getFullYear(),e.optPerPage=20,e.max_num_pages=0,e.paged=1,t(e)}var n=e("#insta-search"),o="",s="",r="",d={action:"insta_search",postType:"",postTax:"",postTerm:"",txtKeyword:"",optMonth:0,optYear:(new Date).getFullYear(),optPerPage:20,max_num_pages:0,response:[],bError:!1,vMensaje:"",paged:1};d.postType="1"===ajax_is.pt?"documentos":"post",d.postTax=ajax_is.term?ajax_is.term.taxonomy:"category",d.postTerm=ajax_is.term?ajax_is.term.slug:"agro-rural";var i="/transparencia/documentos/";t(d),e("#txtKeyword").keypress(function(a){13===a.which&&(d.txtKeyword=e(this).val(),d.paged=1,t(d))}),e("#optMonth").change(function(){d.txtKeyword=e("#txtKeyword").val(),d.optMonth=e("#optMonth").val(),d.paged=1,t(d)}),e("#optYear").change(function(){d.txtKeyword=e("#txtKeyword").val(),d.optYear=e("#optYear").val(),d.paged=1,t(d)}),e("#optPerPage").change(function(){d.txtKeyword=e("#txtKeyword").val(),d.optPerPage=e("#optPerPage").val(),d.paged=1,t(d)}),e("#btnDocumento").click(function(a){a.preventDefault(),d.txtKeyword=e("#txtKeyword").val(),d.paged=1,t(d)}),e("#btnLimpiar").click(function(e){e.preventDefault(),a(d)}),e(document).on("click",".navi",function(a){a.preventDefault();var n=e(this).data("id");d.paged=n,t(d)})}(jQuery);