!function(e){function a(a){e.ajax({url:ajax_is.ajax_url,data:a,beforeSend:function(){e("#loader").show(),e("#optMonth").prop("disabled",!0),e("#optYear").prop("disabled",!0),e("#optPerPage").prop("disabled",!0),e("#btnDocumento").button("loading")},complete:function(){e("#loader").hide(),e("#optMonth").prop("disabled",!1),e("#optYear").prop("disabled",!1),e("#optPerPage").prop("disabled",!1),e("#btnDocumento").button("reset")},success:function(e){if(a=e,t.find(".search-result").empty(),t.find(".wp-pagenavi").empty(),a.bError){var o="";o="<article>",o+='<div class="entry-container">',o+='<div class="entry-body ">',o+='<h2 class="entry-title">',o+=a.vMensaje,o+="</h2>",o+="<p>Intente con otros parámetros de búsqueda...</p>",o+="</div>",o+="</div>",o+="</article>",t.find(".search-result").append(o)}else{for(var r=0;r<a.response.length;r++){var n="";n+='<article class="post-'+a.response[r].id+' status-publish hentry tipos-rde documentos">',n+='<div class="entry-container">',n+='<div class="entry-body ">',n+='<h2 class="entry-title">',n+='<a href="'+a.response[r].permalink+'">'+a.response[r].title+"</a>",n+="</h2>",n+='<div class="post-meta">',n+='<div class="post-date">',n+='<time class="updated">'+a.response[r].date+"</time>",n+="</div>",n+='<div class="post-comments">',n+='<a href="'+ajax_is.upload_dir.baseurl+s+a.postTerm.toLowerCase()+"/"+a.response[r].slug.toUpperCase()+'.PDF" target="_blank"><i class="fa fa-file-pdf-o"></i> Descargar</a>',n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+="</article>",t.find(".search-result").append(n)}for(var p=1;p<=a.max_num_pages;p++){var i='<a href="#'+p+'" class="page navi" data-id="'+p+'">'+p+"</a>";a.paged===p&&(i='<span class="current">'+p+"</span>"),t.find(".wp-pagenavi").append(i)}}console.log(e)},error:function(e){console.log("Error inesperado")}})}var t=e("#insta-search"),o={action:"insta_search",postType:"",postTax:"",postTerm:"",txtKeyword:"",optMonth:0,optYear:(new Date).getFullYear(),optPerPage:20,max_num_pages:0,response:[],bError:!1,vMensaje:"",paged:1};o.postType="1"===ajax_is.pt?"documentos":"post",o.postTax=ajax_is.term?ajax_is.term.taxonomy:"category",o.postTerm=ajax_is.term?ajax_is.term.name:"AGRO RURAL";var s="/transparencia/documentos/";a(o),e("#txtKeyword").keyup(function(){o.txtKeyword=e("#txtKeyword").val(),a(o)}),e("#optMonth").change(function(){o.optMonth=e("#optMonth").val(),a(o)}),e("#optYear").change(function(){o.optYear=e("#optYear").val(),a(o)}),e("#optPerPage").change(function(){o.optPerPage=e("#optPerPage").val(),a(o)}),e("#btnDocumento").click(function(e){e.preventDefault(),a(o)}),e(document).on("click",".navi",function(){var t=e(this).data("id");o.paged=t,a(o)})}(jQuery);